!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){let n=io.connect("http://localhost:3030");$("document").ready(()=>{let t,e,o;$.ajax({type:"get",url:"http://localhost:3000/auc",success:function(n){let a;console.log(n),t=n.participants.filter(t=>t.name===localStorage.getItem("lab3.username")),e=n.painting,o=n.settings,a=0==Math.floor(o.duration%60/10)?"0"+o.duration%60:o.duration%60,$("#time").text("0:00/"+Math.floor(o.duration/60)+":"+a),$("#p_name").text(e.name),$("#p_author").text(e.author),$("#p_price").text("Price: $"+e.price),$("#money").text("Money: $"+t[0].money)}}),$("#mainchat").draggable(),$("#mainchat").resizable({alsoResize:"#chat",minWidth:300,maxWidth:300,minHeight:200,maxHeigth:500}),$("#backMain").on("click",()=>{window.location.href="/main"}),$("#send").on("click",()=>{n.emit("chat message",$("#m").val()),$("#m").val("")});let a=localStorage.getItem("lab3.username");""===a?($("#username").text("Guest"),$("#auth").html("Log in"),$("#auth").on("click",()=>{window.location.href="/"})):(n.emit("usernameAuc",a),n.on("identificationAuc",t=>{"error"===t?window.location.href="/":($("#username").text(a),$("#auth").html("Log out"),$("#auth").on("click",()=>{localStorage.setItem("lab3.username",""),window.location.href="/"}),"admin"===t?($("body").append("<button id='startButton'>Start auction</button>"),$("body").append("<button id='backMain'>Back to menu</button>"),$("#startButton").on("click",()=>(n.emit("timer","start"),!1)),$("#backMain").on("click",()=>{window.location.href="/main"})):"inAuc"===t?function(){let t=document.createElement("div");t.id="betID",$("body").append(t),$("#betID").append('<input type="number" id="bet" placeholder="Bet"></input>'),$("#betID").append('<button id="makeBet">Make bet</button>'),$("#makeBet").on("click",()=>{let t=$("#bet").val();n.emit("bet",t)}),n.emit("minMax","get"),n.on("minMaxRes",t=>{$("#bet").change((function(){var e=t.max,n=t.min;$(this).val()>e?$(this).val(e):$(this).val()<n&&$(this).val(n)}))}),$("body").append("<button id='backMain'>Back to menu</button>"),$("#backMain").on("click",()=>{window.location.href="/main"})}():($("body").append("<button id='backMain'>Back to menu</button>"),$("#backMain").on("click",()=>{window.location.href="/main"})))})),n.on("time",(function(t){$("#time").text(t)})),n.on("betAns",t=>{"notStarted"!=t&&("error"===t?alert("Bet is improper"):($("#cur").text(t),$("<li>").text(t).hide().appendTo("#messages").slideDown(200)))}),n.on("msg",t=>{$("<li>").text(t).hide().appendTo("#messages").slideDown(200)}),$("input").on("keypress",(function(t){13==t.which&&(n.emit("chat message",$("#m").val()),$("#m").val(""))}))})}]);
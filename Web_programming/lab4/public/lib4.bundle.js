!function(t){var n={};function o(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=n,o.d=function(t,n,a){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)o.d(a,e,function(n){return t[n]}.bind(null,e));return a},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="",o(o.s=3)}({3:function(t,n){function o(){$("#buttons").append("<td><button id='backMain'>Back to menu</button></td>"),$("#backMain").on("click",()=>{window.location="http://localhost:3000/main"})}function a(){$("#YMapsID").css("display","block"),$("#addPainting").css("display","none")}$("document").ready(()=>{$("body").on("click","li[data-href]",(function(t){window.location=$(this).attr("data-href")}));let t=io.connect("http://localhost:3030"),n=localStorage.getItem("lab3.username");""===n?($("#username").text("Guest"),$("#auth").html("Log in"),$("#auth").on("click",()=>{window.location.href="/"}),o()):(t.emit("username",n),t.on("identification",t=>{"error"===t?window.location.href="/":("admin"===t?($("#buttons").append("<td><button id='addButton'>Add participant</button></td>"),$("#buttons").append("<td><button id='backMain'>Back to menu</button></td>"),$("#addButton").on("click",()=>{$("#YMapsID").css("display","none"),$("#addPainting").css("display","block")}),$("#close_popup").on("click",()=>{a()}),$("#submit").on("click",()=>{!function(){let t={name:0,location:0};t.name=$("#p_name").val(),t.location=$("#p_location").val(),""!=t.name&&""!=t.location?$.ajax({type:"post",url:"/participants",data:t,success:t=>{$("<li>",{"data-href":"https://localhost:3000/participants/"+t.participant.id,"data-id":t.participant.id,text:t.participant.name}).appendTo("ul")}}):alert("Input name and location of participant")}(),a()}),$("#backMain").on("click",()=>{window.location="http://localhost:3000/main"})):o(),$("#username").text(n),$("#auth").html("Log out"),$("#auth").on("click",()=>{localStorage.setItem("lab3.username",""),window.location.href="/"}))}))}),ymaps.ready().done((function(t){var n=new t.Map("YMapsID",{center:[55.751574,37.573856],zoom:10},{searchControlProvider:"yandex#search"});$.getJSON("data.json",(function(o){t.geoQuery(o).addToMap(n).applyBoundsToMap(n,{checkZoomRange:!0})}))}))}});